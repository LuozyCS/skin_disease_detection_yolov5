<html>

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="frontend/css/style.css">
  <link rel="stylesheet" href="frontend/css/layui.css">
  <script src="frontend/js/jquery.min.js"></script>
  <style>
    .layui-form-radio {
      font-size: 10px;
    }
  </style>
</head>

<body>

  <div class="layui-bg-black layui-header" style="position: fixed;width: 100%;">
    <div class="layui-logo layui-hide-xs;" style="height:60px;line-height: 60px;font-size: larger;"><div style="margin-left: 5%">智能皮肤病诊断平台</div></div>
    <!-- <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item">
      </li>
    </ul> -->
  </div>   
  <br>
  <!-- <h1 class='title'>皮肤病检测项目中期演示</h1> -->
  <div id="container" style="margin-top: 60px;">
    <div id="camera">
      <div id="pcbutton" class="layui-form-item">
        <div class="layui-inline">
          请选择使用方式：
          <div class="layui-inline">
            <button id="sxt" type="button" class="layui-btn layui-btn-lg layui-btn-radius site-demo-active" data-type="setPercent1" onclick="openMedia()">开启摄像头</button>

            <button type="button" class="layui-btn layui-btn-normal layui-btn-radius site-demo-active" data-type="setPercent2" onclick="takePhoto()">拍照</button>
          </div>
          或&nbsp; &nbsp;
          <div class="layui-inline">
            <button type="button" class="layui-btn layui-btn-lg layui-btn-radius site-demo-active" data-type="setPercent3" onClick="clickUploader()">上传图片</button>
          </div>
        </div>
      </div>
      <!-- <img id="imgTag" src="" alt="imgTag"> -->
      <!-- <button onclick="closeMedia()">关闭摄像头</button> -->
      <div id="layuiprogress" class="layui-progress layui-progress-big"  lay-filter="demo" lay-showpercent="true">
        <div id="progresslay" class="layui-progress-bar" lay-percent="0%"></div>
      </div>
    </div>
  </div>


  <div name="contan1" id="text-container" class="center" style="width: 40%;text-align: center;">
    <!-- <p id="instruction" class="red-color"> -->
    <!-- <button id="uploader-btn" onClick="clickUploader()">上传文件</button> -->
    <!-- <p id="warning" class="result-color"></p> -->
    <canvas id="canvas1" style="display: none;width: 100%"></canvas>
    <img src="frontend/demo_images/demo1.jpg" id="image" style="display: none;width: 100%;">
    <video id="video" autoplay="autoplay" style="display: none;width: 100%;"></video>
    <fieldset id="jcjg" class="layui-elem-field layui-field-title" style="margin-top: 20px;display: none;">
      <legend style="margin-left: 0;">检测结果</legend>
    </fieldset>
    <input name="imgFile" type="file" id="fileUploader" accept="image/*" onChange="handleFiles()">
  </div>

  <div name="contan2" id="text-container1" class="center" style="width: 40%;text-align: center;">
    <canvas id="canvas" style="display: none; width: 100%;"></canvas>
    <div id="myout" style="display: none;"></div>
    <br><br><button type="button" id="sendMsgBut" class="layui-btn layui-btn-lg layui-btn-radius site-demo-active" data-type="setPercent4" onclick="sendMsg()" style="display: none;">提交问卷</button><br><br>
  </div>

  <script src="frontend/layui.js" charset="utf-8"></script>

  <script src="frontend/js/index.js"></script>

  <!-- 注意：如果你直接复制所有代码到本地，上述 JS 路径需要改成你本地的 -->
  <script type="text/javascript">
    layui.use(['element', 'form'], function () {
      var $ = layui.jquery
        , element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块
      var form = layui.form;
      form.render('radio');
      //触发事件
      var active = {
        setPercent1: function(){
          //设置50%进度
          element.progress('demo', '33%')
        },
        setPercent2: function(){
          //设置50%进度
          element.progress('demo', '66%')
        },
        setPercent3: function(){
          //设置50%进度
          element.progress('demo', '66%')
        },
        setPercent4: function(){
          //设置50%进度
          element.progress('demo', '100%')
        },
        tabAdd: function () {
          //新增一个Tab项
          element.tabAdd('demo', {
            title: '新选项' + (Math.random() * 1000 | 0) //用于演示
            , content: '内容' + (Math.random() * 1000 | 0)
            , id: new Date().getTime() //实际使用一般是规定好的id，这里以时间戳模拟下
          })
        }
        , tabDelete: function (othis) {
          //删除指定Tab项
          element.tabDelete('demo', '44'); //删除：“商品管理”


          othis.addClass('layui-btn-disabled');
        }
        , tabChange: function () {
          //切换到指定Tab项
          element.tabChange('demo', '22'); //切换到：用户管理
        }
      };

      $('.site-demo-active').on('click', function () {
        var othis = $(this), type = othis.data('type');
        active[type] ? active[type].call(this, othis) : '';
      });

      //Hash地址的定位
      var layid = location.hash.replace(/^#test=/, '');
      element.tabChange('test', layid);

      element.on('tab(test)', function (elem) {
        location.hash = 'test=' + $(this).attr('lay-id');
      });

    });
  </script>

</body>

</html>